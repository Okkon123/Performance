1. java内存模型中有两种内存
2. 一种是主内存，一种是各个线程的工作内存
3. 线程先从主内存读取数据到自己的工作内存
4. 写操作都在自己的工作内存中进行
5. 这也产生了内存的可见性问题
6. 因为是在自己的工作内存中进行操作，对其他线程不可见

java使用volitile保障了可见性
用volitile修饰的变量修改后必须被刷回主内存，读取也从主内存中刷新最新的值